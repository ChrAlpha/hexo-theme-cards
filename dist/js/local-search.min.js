function t(t){const e={"{":"\\{","}":"\\}","[":"\\[","]":"\\]","(":"\\(",")":"\\)","?":"\\?","*":"\\*",".":"\\.","+":"\\+","^":"\\^",$:"\\$"};return t.replace(/[\{\}\[\]\(\)\?\*\.\+\^\$]/g,(function(t){return e[t]}))}function e(t){document.getElementById("search-result__notice").innerHTML=t}function n(n,c){fetch(n).then(t=>t.json()).then(n=>{const r=performance.now();let o=[],s=0,l=c.trim().toLowerCase().split(/\s/);if(n.forEach(e=>{if(void 0===e.title||void 0===e.content)return;let n=!1;const c=e.title.trim().toLowerCase(),r=e.content?e.content.trim().replace(/<[^>]+>/g,"").toLowerCase():"";let i=0,u={title:-1,content:-1,firstOccur:-1,lastOccur:-1};if(c&&l.forEach(t=>{u.title=c.indexOf(t),u.content=r.indexOf(t),-1===u.title&&-1===u.content||(n=!0,-1!==u.content&&((u.firstOccur>u.content||-1===u.firstOccur)&&(u.firstOccur=u.content),u.lastOccur<u.content&&(u.lastOccur=u.content)),i+=-1!==u.title?2:0,i+=-1!==u.content?1:0,s++)}),n){let n={};if(n.title=e.title,n.link=e.url,l.forEach(e=>{const c=new RegExp(t(e)+"(?!>)","gi");n.title=n.title.replace(c,"<m>$&</m>")}),u.firstOccur>=0){const e=100;let c=u.firstOccur-e,o=u.lastOccur+e;c<0&&(c=0),0===c&&(o=2*e),o>r.length&&(o=r.length),n.content=r.substr(c,o-c),l.forEach(e=>{const c=new RegExp(t(e)+"(?!>)","gi");n.content=n.content.replace(c,"<m>$&</m>")})}o.push([n,i])}}),0!==s){const t=performance.now();e(`${s} related results found (in ${Math.round(100*(t-r))/100} ms)`),o.sort((t,e)=>e[1]-t[1]),function(t){const e=document.getElementById("search-result__list");let n="";t.forEach(t=>{const e=t[0],c=`\n        <a href="${e.link}" class="search-result__link">\n            <div class='search-result__item'>\n                <strong>\n                    ${e.title}\n                </strong>\n                <div class="search-result__content">\n                    ${e.content}\n                </div>\n            </div>\n        </a>\n        `;n+=c}),e.innerHTML=n}(o)}else{const t=performance.now();e(`No related result found (in ${Math.round(100*(t-r))/100} ms)`),document.getElementById("search-result__list").innerHTML=""}})}function c(t){n(searchDataFile,function(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return t.replace(/[&<>"'/]/g,(function(t){return e[t]}))}(t))}(()=>{const t=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}("s");""!==t&&(document.getElementById("search-input").value=t,c(t))})();